---
title: 'Instrbuilder: A Python package for high-level instrument control'
tags:
  - Python
  - instrument control
  - data acquisition
  - SCPI
  - electrical engineering
  - physics
  - experiments
authors:
  - name: Lucas J. Koerner
    orcid: 0000-0002-7236-7202
    affiliation: 1
affiliations:
 - name: Lucas K. Koerner, Department of Electrical and Computer Engineering, University of St. Thomas
   index: 1
date: 3 January 2019
bibliography: paper.bib
---

# Background
``instrbuilder`` is an open-source Python package for control of electrical instruments. This package eases the development of high-level "drivers" to interface with oscilloscopes, power supplies, function generators, multimeters, and other instruments that use ASCII textual string communication (such as SCPI [@scpi1999standard]). ``instrbuilder`` is particularly suited for prototying and automating experiments in research laboratory setups within an IPython terminal. 

# Summary
``instrbuilder`` reads and writes instruments with serial or USB interfaces and leverages the consistency of SCPI commands to allow users to create new instrument "drivers" with a simple CSV file. Non standard instrument commands may also be generated by writing Python code. Commands can be automatically tested for communication errors or unexpected return values and help is available for each instrument command. Commands are classified as to whether they configure the state of the instrument so that ``instrbuilder`` may read and log a complete archive of the instrument configuration. Instrument addresses and other environment properties may be stored in a YAML configuration file within the user's home directory so that the user may create a name for each instrument and simply open instruments by this name. 

Documentation is online https://lucask07.github.io/instrbuilder/build/html/ and [examples](https://github.com/lucask07/instrbuilder/tree/master/instrbuilder/examples) are available in the GitHub repository. These minimal working examples (MWEs) include control of a function generator, power supply, oscilloscope, lock-in amplifier, and an integrated circuit interfaced to with an Aardvark controller. 

``instrbuilder`` supports a Register class that targets registers of an integrated circuit. The IC class creates integrated circuit objects which include a dictionary of the registers and have methods for reading and writing these registers via SPI or I2C. 

``instrbuilder`` is part of an environment that uses Bluesky [@Arkilic2017] to generate an instrument and experiment control environment that facilitates reproducible experiments. Bluesky was created for x-ray science by a team at the NSLS-II (see https://nsls-ii.github.io/). A full length manuscript that describes and demonstrates this effort is in press. 

# Acknowledgements

We acknowledge laborartory start up funds from the University of St. Thomas School of Engineering. 

# References
