---
title: 'Instrbuilder: A Python package for high-level instrument control'
tags:
  - Python
  - instrument control
  - data acquisition
  - SCPI
  - electrical engineering
  - physics
  - experiments
authors:
  - name: Lucas J. Koerner
    orcid: 0000-0002-7236-7202
    affiliation: 1
affiliations:
 - name: Lucas K. Koerner, Department of Electrical and Computer Engineering, University of St. Thomas
   index: 1
date: 3 January 2019
bibliography: paper.bib
---

# Background
``instrbuilder`` is an open-source Python package for control of electrical instruments. This package eases the development of high-level "drivers" to interface with oscilloscopes, power supplies, function generators, multimeters, and other instruments that use ASCII textual string communication (such as SCPI [@scpi1999standard]). ``instrbuilder`` is particularly suited for prototying and automating experiments in research laboratory setups within an IPython terminal. 

# Summary
``instrbuilder`` leverages the consistency of SCPI commands so that users may create new instrument "drivers" by listing commands in a CSV file. Non standard instrument commands may also be generated by writing Python code. Commands can be automatically tested for communication errors or unexpected return values and help is available for each instrument command. Commands are classified as to whether they configure the state of the instrument so that ``instrbuilder`` may read and log a complete archive of the instrument configuration. Instrument addresses may be stored in a YAML configuration file within the user's home directory so that the user may create a name for each instrument and open instruments by name. 

Documentation is online [https://lucask07.github.io/instrbuilder/build/html/] and (examples)[https://github.com/lucask07/instrbuilder/tree/master/instrbuilder/examples] are available in the repository. These simple minimal working examples include control of a function generator, power supply, oscilloscope, lock-in amplifier, and an integrated circuit interfaced with an Aardvark controller. 

``instrbuilder`` supports a Register class that targets registers of an integrated circuit. The IC class supports reading and writing these registers via SPI or I2C. 

``instrbuilder`` is part of a package that uses Bluesky (a NSLS-II package with documentation at [https://nsls-ii.github.io/]) to generate an instrument and experiment control environment that facilitates reproducible experiments. A full length manuscript that describes and demonstrates this effort is in press. 

# Acknowledgements

We acknowledge laborartory start up funds from the University of St. Thomas School of Engineering. 

# References